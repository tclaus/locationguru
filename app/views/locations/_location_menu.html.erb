<ul class="sidebar-list">
  <li class="sidebar-item">
    <% if current_page?(description_location_path) %>
      <%= link_to t(".description"), description_location_path, class:"sidebar-link active" %>
    <% else %>
      <%= link_to t(".description"), description_location_path, class:"sidebar-link" %>
    <% end %>
    <% if !@location.listing_name.blank? %>
      <span class="pull-right text-babu">
        <i class="fas fa-check"></i>
      </span>
    <% else %>
      <span class="pull-right text-babu">
        <i class="far fa-circle"></i>
      </span>
    <% end %>
  </li>
  <li class="sidebar-item">
    <% if current_page?(listing_location_path) %>
      <%= link_to t(".listing"), listing_location_path, class:"sidebar-link active" %>
    <% else %>
      <%= link_to t(".listing"), listing_location_path, class:"sidebar-link" %>
    <% end %>
    <span class="pull-right text-babu">
      <i class="fas fa-check"></i>
    </span>
  </li>
  <li class="sidebar-item">
    <% if current_page?(suitables_location_path) %>
      <%= link_to t(".suitables"), suitables_location_path, class:"sidebar-link active" %>
    <% else %>
      <%= link_to t(".suitables"), suitables_location_path, class:"sidebar-link" %>
    <% end %>
    <% if @location.has_suitables %>
      <span class="pull-right text-babu">
        <i class="fas fa-check"></i>
      </span>
    <% else %>
      <span class="pull-right text-babu">
        <i class="far fa-circle"></i>
      </span>
    <% end %>
  </li>
  <li class="sidebar-item">
    <% if current_page?(amenities_location_path) %>
      <%= link_to t(".amenities"), amenities_location_path, class:"sidebar-link active" %>
    <% else %>
    <%= link_to t(".amenities"), amenities_location_path, class:"sidebar-link" %>
    <% end %>
    <span class="pull-right text-babu">
      <i class="fas fa-check"></i>
    </span>
  </li>
  <li class="sidebar-item">
    <% if current_page?(photo_upload_location_path) %>
      <%= link_to t(".photos"), photo_upload_location_path, class:"sidebar-link active" %>
    <% else %>
    <%= link_to t(".photos"), photo_upload_location_path, class:"sidebar-link" %>
    <% end %>
    <% if !@location.photos.blank? %>
      <span id="photo_check" class="pull-right text-babu">
        <i class="fas fa-check"></i>
      </span>
    <% else %>
      <span class="pull-right text-babu">
        <i class="far fa-circle"></i>
      </span>
    <% end %>
  </li>
  <li class="sidebar-item">
    <% if current_page?(location_location_path) %>
      <%= link_to t(".location"), location_location_path, class:"sidebar-link active" %>
    <% else %>
    <%= link_to t(".location"), location_location_path, class:"sidebar-link" %>
    <% end %>
    <% if !@location.address.blank? %>
      <span class="pull-right text-babu">
        <i class="fas fa-check"></i>
      </span>
    <% else %>
      <span class="pull-right text-babu">
        <i class="far fa-circle"></i>
      </span>
    <% end %>
  </li>
  <li class="sidebar-item location_preview">
    <%= link_to t('.location_preview'), @location, target: :_blank %>
  </li>
</ul>

<hr>

<% is_ready = !@location.listing_name.blank? &&
!@location.photos.blank? &&
!@location.address.blank? &&
@location.has_suitables %>
  <% if @location.active %>
    <% button_name = t(".isActive") %>
    <% button_class = "location_menu btn btn-block btn-success" %>
  <% else %>
    <% button_name = t(".isInactive") %>
    <% button_class = "location_menu btn btn-block btn-warning" %><% end %>

    <%= form_for @location do |f| %>
    <%= f.hidden_field :active, value: !@location.active %>
    <%= f.submit button_name ,id: "publish_button", class: button_class, disabled: !is_ready %>
  <% end %>
